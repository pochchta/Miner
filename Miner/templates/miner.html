<?php

namespace Miner\classes;

?>

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Miner</title>
    <link href="Miner/css/style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
	<div class="messages">
	<?php
		foreach (MinerController::getMessages() as $n => $value){
			print $value.'<br>';
		}
	?>
	</div>
	<br><br>
	<?php MinerWriter::printField(MinerController::getMiner()); ?>
	<br><br>
	<form action="/" method="POST" id="formClickField">
		<input type="hidden" name="coord">
	</form>
	<form action="/" method="POST">
		<?php
			$names = array(
				"width" => "Ширина",
				"height" => "Высота",
				"numberBombs" => "Кол-во бомб"
			);
			foreach (MinerController::getSettings() as $key => $value) {
				print "{$names[$key]} <input type='text' name='{$key}' value='{$value}'><br>";
			}
		?>
		<button name="newGame">NewGame</button>
		<button name="loadGame">LoadGame</button>
		<button name="setSettings">SetSettings</button>
	</form>
	<script>
		var elements = document.querySelectorAll(".cell");
		for (var i = 0; i < elements.length; i++) {
			elements[i].onclick = function(){
				document.forms["formClickField"].coord.value = this.id;
				document.forms["formClickField"].submit();

			};
		}
	</script>

</body>
</html>